CREATE OR REPLACE PROCEDURE GET_ORDERS_PER_CUSTOMER AS
  CURSOR c IS SELECT CUSTOMER_NAME, COUNT(*) AS TOTAL_ORDERS
             FROM ORDERS, CUSTOMER
             WHERE ORDERS.CUSTOMER_ID = CUSTOMER.CUSTOMER_ID
             GROUP BY CUSTOMER_NAME;
BEGIN
  FOR r IN c LOOP
    DBMS_OUTPUT.PUT_LINE(r.CUSTOMER_NAME || ': ' || r.TOTAL_ORDERS || ' orders');
  END LOOP;
END;

BEGIN
GET_ORDERS_PER_CUSTOMER;
END;

CREATE OR REPLACE PROCEDURE GET_DAILY_SALES_TOTAL AS
  CURSOR c IS SELECT DATE_B, SUM(PRICE) AS TOTAL_SALES
             FROM BILL
             GROUP BY DATE_B;
BEGIN
  FOR r IN c LOOP
    DBMS_OUTPUT.PUT_LINE('Date: ' || TO_CHAR(r.DATE_B, 'MM/DD/YYYY') || ' Total Sales: $' || r.TOTAL_SALES);
  END LOOP;
END;
BEGIN
GET_DAILY_SALES_TOTAL;
END;

